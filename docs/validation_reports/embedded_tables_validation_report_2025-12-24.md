# 嵌入表 验证分析报告

**执行时间**: 2025-12-24 23:30
**验证状态**: ❌ 失败 (多项关键指标异常)

## 一、执行摘要

| 验证类别     | 通过项 | 异常项 | 通过率 |
| :----------- | :----: | :----: | :----: |
| 核心属性验证 |   1    |   0    |  100%  |
| 血缘质量检测 |   1    |   3    |  25%   |
| 关联元素验证 |   1    |   3    |  25%   |
| 前端元素对齐 |   -    |   0    |  100%  |
| 逻辑闭环验证 |   0    |   1    |   0%   |

## 二、问题详情

### 2.1 [质量问题]: 嵌入表存在大规模孤儿记录 (341/480)

**位置**: `血缘质量检测.未匹配血缘检测[关联方向='嵌入表->数据源']`

**状态**: 发现 341 个嵌入表未关联任何数据源。

**预期 vs 实际**:
| 指标       | 预期值 | 实际值 | 差异  |
| :--------- | :----: | :----: | :---: |
| 关联表数量 |  480   |  139   | -341  |

### 2.2 [质量问题]: 嵌入表缺失字段元数据 (320/480)

**位置**: `血缘质量检测.未匹配血缘检测[关联方向='嵌入表->字段']`

**状态**: 320 个嵌入表没有任何关联字段。由于缺乏字段，这些表在血缘分析中处于"断链"状态，没有任何实际价值。

### 2.3 [逻辑异常]: database_id 覆盖过度 (446/480)

**状态**: 446 个嵌入表被标记了 `database_id`。根据设计规范，嵌入表（如 Excel）通常没有物理数据库 ID。这说明同步逻辑中可能将某些物理数据库的连接错误地关联到了嵌入表记录上。

## 三、修复建议

### 3.1 [修复]: 清理嵌入表垃圾数据

**修复方案**: 
1. 识别并删除没有任何数据源和字段关联的嵌入表（僵尸记录）。
2. 在 `backend/tableau_sync.py` 中，修正嵌入表的 `database_id` 赋值逻辑，防止物理库 ID 污染。

## 四、修复执行记录

无
